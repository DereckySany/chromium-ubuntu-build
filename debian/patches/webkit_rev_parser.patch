Index: dev.raring/src/webkit/build/webkit_version.py
===================================================================
--- dev.raring.orig/src/webkit/build/webkit_version.py	2013-05-01 20:23:43.768163345 -0500
+++ dev.raring/src/webkit/build/webkit_version.py	2013-05-01 20:23:43.764163232 -0500
@@ -32,6 +32,15 @@
       directory=webkit_src_dir,
       directory_regex_prior_to_src_url='webkit')
 
+  if version_info.url is None or version_info.url == 'unknown':
+    # parse the DEPS file
+    data = open("../../DEPS", "rb").read()
+    x = re.search(r'"webkit_revision": "(\d+)",', data)
+    rev = x.group(1) if x else "n-a"
+    x = re.search(r'"webkit_trunk": "(.*?)",', data)
+    branch = os.path.basename(x.group(1)) if x else "n-a"
+    return "%s@%s" % (branch, rev)
+
   if version_info.url == None:
     version_info.url = 'Unknown URL'
   version_info.url = version_info.url.strip('/')
