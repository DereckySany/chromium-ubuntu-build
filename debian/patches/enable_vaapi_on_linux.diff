Index: dev.utopic/content/common/gpu/media/gpu_video_decode_accelerator.cc
===================================================================
--- dev.utopic.orig/content/common/gpu/media/gpu_video_decode_accelerator.cc	2014-09-08 19:47:19.614758348 -0400
+++ dev.utopic/content/common/gpu/media/gpu_video_decode_accelerator.cc	2014-09-08 19:47:19.607758348 -0400
@@ -31,7 +31,7 @@
 #elif defined(OS_CHROMEOS) && defined(ARCH_CPU_ARMEL) && defined(USE_X11)
 #include "content/common/gpu/media/v4l2_video_decode_accelerator.h"
 #include "content/common/gpu/media/v4l2_video_device.h"
-#elif defined(OS_CHROMEOS) && defined(ARCH_CPU_X86_FAMILY) && defined(USE_X11)
+#elif (defined(OS_CHROMEOS) || defined(OS_LINUX)) && defined(ARCH_CPU_X86_FAMILY) && defined(USE_X11)
 #include "content/common/gpu/media/vaapi_video_decode_accelerator.h"
 #include "ui/gl/gl_context_glx.h"
 #include "ui/gl/gl_implementation.h"
@@ -273,7 +273,7 @@
       make_context_current_,
       device.Pass(),
       io_message_loop_));
-#elif defined(OS_CHROMEOS) && defined(ARCH_CPU_X86_FAMILY) && defined(USE_X11)
+#elif (defined(OS_CHROMEOS) || defined(OS_LINUX)) && defined(ARCH_CPU_X86_FAMILY) && defined(USE_X11)
   if (gfx::GetGLImplementation() != gfx::kGLImplementationDesktopGL) {
     VLOG(1) << "HW video decode acceleration not available without "
                "DesktopGL (GLX).";
Index: dev.utopic/content/content_common.gypi
===================================================================
--- dev.utopic.orig/content/content_common.gypi	2014-09-08 19:47:19.614758348 -0400
+++ dev.utopic/content/content_common.gypi	2014-09-08 19:47:19.607758348 -0400
@@ -753,7 +753,7 @@
         '<(DEPTH)/third_party/khronos',
       ],
     }],
-    ['target_arch != "arm" and chromeos == 1 and use_x11 == 1', {
+    ['target_arch != "arm" and (chromeos == 1 or desktop_linux == 1) and use_x11 == 1', {
       'dependencies': [
         '../media/media.gyp:media',
         '../third_party/libyuv/libyuv.gyp:libyuv',
Index: dev.utopic/content/content_gpu.gypi
===================================================================
--- dev.utopic.orig/content/content_gpu.gypi	2014-09-08 19:47:19.614758348 -0400
+++ dev.utopic/content/content_gpu.gypi	2014-09-08 19:47:19.607758348 -0400
@@ -40,7 +40,7 @@
         ],
       },
     }],
-    ['target_arch!="arm" and chromeos == 1', {
+    ['target_arch!="arm" and (chromeos == 1 or desktop_linux == 1)', {
       'include_dirs': [
         '<(DEPTH)/third_party/libva',
       ],
Index: dev.utopic/content/content_tests.gypi
===================================================================
--- dev.utopic.orig/content/content_tests.gypi	2014-09-08 19:47:19.614758348 -0400
+++ dev.utopic/content/content_tests.gypi	2014-09-08 19:47:19.608758348 -0400
@@ -1490,7 +1490,7 @@
           },
         ]
     }],
-    ['chromeos==1 and use_x11 == 1 and target_arch != "arm"', {
+    ['(chromeos==1 or desktop_linux==1) and use_x11 == 1 and target_arch != "arm"', {
       'targets': [
           {
             'target_name': 'vaapi_h264_decoder_unittest',
Index: dev.utopic/content/public/common/content_switches.cc
===================================================================
--- dev.utopic.orig/content/public/common/content_switches.cc	2014-09-08 19:47:19.614758348 -0400
+++ dev.utopic/content/public/common/content_switches.cc	2014-09-08 19:47:19.608758348 -0400
@@ -905,7 +905,7 @@
 // Disable web audio API.
 const char kDisableWebAudio[]               = "disable-webaudio";
 
-#if defined(OS_CHROMEOS)
+#if defined(OS_CHROMEOS) || defined(OS_LINUX)
 // Disables panel fitting (used for mirror mode).
 const char kDisablePanelFitting[]           = "disable-panel-fitting";
 
Index: dev.utopic/content/public/common/content_switches.h
===================================================================
--- dev.utopic.orig/content/public/common/content_switches.h	2014-09-08 19:47:19.614758348 -0400
+++ dev.utopic/content/public/common/content_switches.h	2014-09-08 19:47:19.608758348 -0400
@@ -261,7 +261,7 @@
 
 CONTENT_EXPORT extern const char kDisableWebAudio[];
 
-#if defined(OS_CHROMEOS)
+#if defined(OS_CHROMEOS) || defined(OS_LINUX)
 CONTENT_EXPORT extern const char kDisablePanelFitting[];
 CONTENT_EXPORT extern const char kDisableVaapiAcceleratedVideoEncode[];
 #endif
Index: dev.utopic/media/media.gyp
===================================================================
--- dev.utopic.orig/media/media.gyp	2014-09-08 19:47:19.614758348 -0400
+++ dev.utopic/media/media.gyp	2014-09-08 19:47:19.609758348 -0400
@@ -654,7 +654,7 @@
           ],
         }],
         # For VaapiVideoEncodeAccelerator.
-        ['target_arch != "arm" and chromeos == 1 and use_x11 == 1', {
+        ['target_arch != "arm" and (chromeos == 1 or desktop_linux == 1) and use_x11 == 1', {
           'sources': [
             'filters/h264_bitstream_buffer.cc',
             'filters/h264_bitstream_buffer.h',
